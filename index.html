<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>DISPENSIA â€“ Planificador de comidas</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="dispensia.css" />
</head>
<body>
  <header class="topbar">
    <div class="topbar-left">
      <div class="logo">DISPENSIA</div>
      <div class="tagline">Planifica, cocina y disfruta sin complicarte.</div>
    </div>
    <div class="topbar-right">
      <button class="nav-btn" onclick="scrollToCatalog()">Explorar platos</button>
      <button class="nav-btn" onclick="openPlanner()">ğŸ“… Mi semana</button>
      <button class="nav-btn primary" onclick="openShopping()">ğŸ›’ Lista de compras</button>
    </div>
  </header>

  <section class="hero">
    <div class="hero-content">
      <h1>Elige tus platos como en HelloFresh, pero a tu estilo.</h1>
      <p>
        Explora recetas, arrÃ¡stralas a tu semana y obtÃ©n automÃ¡ticamente la lista de compras.
      </p>
      <div class="hero-badges">
        <span>ğŸ¥— Recetas caseras</span>
        <span>ğŸ“… Plan semanal visual</span>
        <span>ğŸ›’ Lista consolidada</span>
      </div>
    </div>
  </section>

  <!-- Barra resumen de semana -->
  <section class="week-summary">
    <div class="week-summary-left">
      <span id="weekCountBadge" class="pill pill-primary">0 platos en tu semana</span>
      <span class="pill pill-soft">Arrastra platos a los dÃ­as o usa â€œAgregar a un dÃ­aâ€</span>
    </div>
    <div class="week-summary-right">
      <button class="ghost-btn" onclick="openPlanner()">Ver plan semanal</button>
      <button class="ghost-btn" onclick="clearWeek()">Limpiar semana</button>
    </div>
  </section>

  <!-- Vista mini planner (tipo HelloFresh) -->
  <section class="inline-planner">
    <div class="inline-planner-grid" id="inlinePlanner"></div>
  </section>

  <!-- Filtros -->
  <section class="filters">
    <div class="filters-left">
      <span class="chip active" onclick="filterMeals('all', this)">Todas</span>
      <span class="chip" onclick="filterMeals('rapido', this)">RÃ¡pidas (&lt;=25 min)</span>
      <span class="chip" onclick="filterMeals('econ', this)">EconÃ³micas</span>
      <span class="chip" onclick="filterMeals('prote', this)">Alta proteÃ­na</span>
      <span class="chip" onclick="filterMeals('nopica', this)">Suaves (sin picante)</span>
    </div>
  </section>

  <!-- CatÃ¡logo de platos -->
  <main id="catalog">
    <section class="gallery" id="gallery"></section>
  </main>

  <!-- Modal Receta -->
  <div id="recipeModal" class="modal">
    <div class="modal-content modal-recipe">
      <button class="close-btn" onclick="closeRecipe()">âœ•</button>
      <div class="modal-recipe-media">
        <div id="modalVideoContainer" class="video-wrapper"></div>
        <img id="modalImg" class="modal-img" alt="Foto del plato" />
      </div>
      <div class="modal-recipe-body">
        <h2 id="modalName"></h2>
        <p class="meta">
          <span id="modalTime"></span> â€¢ <span id="modalPortions"></span> â€¢
          <span id="modalDifficulty"></span>
        </p>

        <h3>Ingredientes</h3>
        <ul id="modalIngredients" class="ingredients-list"></ul>

        <h3>PreparaciÃ³n</h3>
        <ol id="modalSteps" class="steps-list"></ol>

        <h3>Agregar a un dÃ­a</h3>
        <div id="assignBtns" class="assign-grid"></div>
      </div>
    </div>
  </div>

  <!-- Modal Planner completo -->
  <div id="plannerModal" class="modal">
    <div class="modal-content modal-planner">
      <button class="close-btn" onclick="closePlanner()">âœ•</button>
      <h2>Tu semana DISPENSIA</h2>
      <p class="planner-subtitle">Arrastra platos desde el catÃ¡logo o haz click en â€œAgregar a un dÃ­aâ€.</p>
      <div id="weekBoard" class="week-grid"></div>
    </div>
  </div>

  <!-- Modal Lista de compras -->
  <div id="shoppingModal" class="modal">
    <div class="modal-content modal-shopping">
      <button class="close-btn" onclick="closeShopping()">âœ•</button>
      <h2>Lista de compras consolidada</h2>
      <p class="shopping-subtitle">
        Basada en todos los platos seleccionados en tu semana.
      </p>
      <div id="shoppingList"></div>
      <div class="shopping-actions">
        <button class="ghost-btn" onclick="window.print()">Imprimir / PDF ğŸ–¨</button>
      </div>
    </div>
  </div>

  <script src="dispensia.js"></script>
</body>
</html>